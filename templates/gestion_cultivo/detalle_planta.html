{% extends "gestion_cultivo/base.html" %}

{% block title %}{{ planta.nombre_id }}{% endblock %}

{% block content %}
<div class="container py-4">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'gestion_cultivo:index' %}">Inicio</a></li>
            <li class="breadcrumb-item"><a href="{% url 'gestion_cultivo:lista_salas' %}">Mis Salas</a></li>
            <li class="breadcrumb-item"><a href="{% url 'gestion_cultivo:detalle_sala' planta.area.sala.id %}">{{ planta.area.sala.nombre }}</a></li>
            <li class="breadcrumb-item"><a href="{% url 'gestion_cultivo:detalle_area' planta.area.id %}">{{ planta.area.nombre }}</a></li>
            <li class="breadcrumb-item active" aria-current="page">{{ planta.nombre_id }}</li>
        </ol>
    </nav>

    <div class="card">
        <div class="card-header">
            <h5 class="card-title mb-0">{{ planta.nombre_id }}</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <h6 class="mb-3">Información General</h6>
                    <p>
                        <strong>Tipo:</strong> {{ planta.get_tipo_planta_display }}<br>
                        {% if planta.tipo_planta == 'semilla' and planta.semilla %}
                            <strong>Semilla:</strong> {{ planta.semilla.nombre }}<br>
                        {% elif planta.tipo_planta == 'esqueje' and planta.planta_madre %}
                            <strong>Planta Madre:</strong> {{ planta.planta_madre.nombre_id }}<br>
                        {% endif %}
                        <strong>Es Planta Madre:</strong> {% if planta.es_madre %}Sí{% else %}No{% endif %}<br>
                        <strong>Fecha de Germinación:</strong> {{ planta.fecha_germinacion|default:"No especificada" }}<br>
                        <strong>Etapa Actual:</strong> {{ planta.get_etapa_actual_display }}<br>
                        <strong>Estado:</strong> {% if planta.activa %}Activa{% else %}Inactiva{% endif %}
                    </p>
                </div>

                <div class="col-md-6">
                    <h6 class="mb-3">Ubicación</h6>
                    <p>
                        <strong>Sala:</strong> {{ planta.area.sala.nombre }}<br>
                        <strong>Área:</strong> {{ planta.area.nombre }}<br>
                        <strong>Tipo de Cultivo:</strong> {{ planta.area.get_tipo_cultivo_display }}
                    </p>
                </div>

                {% if planta.thc_estimado or planta.cbd_estimado %}
                <div class="col-md-6">
                    <h6 class="mb-3">Valores Estimados</h6>
                    <p>
                        {% if planta.thc_estimado %}
                            <strong>THC:</strong> {{ planta.thc_estimado }}%<br>
                        {% endif %}
                        {% if planta.cbd_estimado %}
                            <strong>CBD:</strong> {{ planta.cbd_estimado }}%
                        {% endif %}
                    </p>
                </div>
                {% endif %}
            </div>

            <div class="mt-4 d-flex gap-2">
                <a href="{% url 'gestion_cultivo:editar_planta' planta.id %}" class="btn btn-warning">Editar</a>
                <a href="{% url 'gestion_cultivo:eliminar_planta' planta.id %}" class="btn btn-danger">Eliminar</a>
                <a href="{% url 'gestion_cultivo:detalle_area' planta.area.id %}" class="btn btn-secondary">Volver al Área</a>
            </div>
        </div>
    </div>
</div>
{% endblock %} 