{% extends "gestion_cultivo/base.html" %}

{% block title %}Mis Salas de Cultivo{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="mb-0">Mis Salas</h2>
    <a href="{% url 'gestion_cultivo:crear_sala' %}" class="btn btn-success">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle-fill me-1" viewBox="0 0 16 16">
            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"/>
        </svg>
        Crear Nueva Sala
    </a>
</div>

{% if salas %}
    <div class="list-group shadow-sm">
        {% for sala in salas %}
            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                <div>
                    <h5 class="mb-1">{{ sala.nombre }}</h5>
                    {% if sala.descripcion %}
                        <p class="mb-1 text-muted">{{ sala.descripcion|truncatewords:20 }}</p>
                    {% endif %}
                </div>
                <small class="text-muted">Áreas: {{ sala.areas.count }}</small>
            </a>
        {% endfor %}
    </div>
{% else %}
    <div class="alert alert-info" role="alert">
        Aún no has creado ninguna sala. ¡Empieza <a href="{% url 'gestion_cultivo:crear_sala' %}" class="alert-link">creando una nueva</a>!
    </div>
{% endif %}
{% endblock %}